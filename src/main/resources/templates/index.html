<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/static/res/css/layui.css" media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
    <script src="/static/res/layui.js" charset="utf-8"></script>
    <script src="/static/res/jquery-3.5.1.js"></script>
    <script src="/static/res/common.js"></script>
    <script src="/static/res/jquery.cookie.js"></script>
    <script>
        layui.use('element', function () {
            var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

            //监听导航点击
            element.on('nav(demo)', function (elem) {
                //console.log(elem)
                layer.msg(elem.text());
            });
        });
    </script>
    <script>

    </script>

</head>

<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>PanghuPet</legend>
</fieldset>

<ul class="layui-nav">
    <li class="layui-nav-item"><a href="">首页</a></li>
    <li class="layui-nav-item layui-this">
        <a href="javascript:;">视频</a>
        <dl id="spiderMenu" class="layui-nav-child">
            <dd v-for="item in items" ><a href="">{{item.message}}</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="">图片</a></li>
    <li class="layui-nav-item"><a href="">我的</a></li>
</ul>

<div class="layui-container">
    <div class="layui-row">
        <div class="layui-col-xs3 layui-border-box">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
    </div>
    <div class="layui-row">
        <div class="layui-col-xs3 layui-border-box">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
        <div class="layui-col-xs3">
            <div class="grid-demo grid-demo-bg1"><img src="/static/res/img/panghu.jpg" alt="panghu" style="height: 100%;width: 100%">
            </div>
            <div class="grid-demo grid-demo-bg1">
                <span class="layui-field-title">panghu</span>
                <span class="duration">3 mins</span>
            </div>
        </div>
    </div>
    <div id="demo1"></div>

</div>
</body>
<script src="/static/res/vue.js" type="text/javascript"></script>

<script>
    $.cookie('x-auth-token','800e53934ff341d3abe8e17743a0306f',{ expires: 7 });
    var token=$.cookie('x-auth-token');
    var vue = new Vue({
        el: '#spiderMenu',
        data: {
            items:[
                {message:'张三'},
                {message:'李四'},
                {message:'王五'}
            ]
        },
        methods:{
            getVideos:function (event) {
                console.log(event)
                $.ajax({
                    headers: {
                        Accept: "application/json; charset=utf-8",
                        'x-auth-token': token
                    },
                    url:host+"api/spider/videos/list",
                    type:'GET',
                    data:{},
                    dataType:'application/json'
                }).then(function (res) {
                    console.log(res)
                })
            }
        }
    });
    layui.use(['laypage', 'layer'], function () {
        var laypage = layui.laypage
            , layer = layui.layer;

        //总页数大于页码总数
        laypage.render({
            elem: 'demo1',
            count: 70,//数据总数,
            limit: 5,
            jump:function (event) {
                console.log(event)
                $.ajax({
                    headers: {
                        Accept: "application/json; charset=utf-8",
                        'x-auth-token': token
                    },
                    url:"api/spider/videos/list",
                    type:'GET',
                    data:{},
                    dataType:'application/json'
                }).then(function (res) {
                    console.log(res)
                })
            }
        });
    });
</script>
</html>